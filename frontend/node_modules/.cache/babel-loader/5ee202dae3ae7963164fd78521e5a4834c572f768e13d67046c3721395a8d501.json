{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useContext}from'react';import React from'react';import{CartContext}from'../CartContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AudioRecord=function AudioRecord(){var _useContext=useContext(CartContext),auth=_useContext.auth,formatDate=_useContext.formatDate,formatTime=_useContext.formatTime,user=_useContext.user,alt=_useContext.alt,baseURL=_useContext.baseURL;var duration=0;var interval,intervalLoc;var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return navigator.mediaDevices.getDisplayMedia({video:true,audio:true}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(screenStream){var micConstraints;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:micConstraints={audio:true};navigator.mediaDevices.getUserMedia(micConstraints).then(function(micStream){//create a new stream in which to pack everything together\nvar mediaStreamObj=new MediaStream();//create new Audio Context\nvar context=new AudioContext();//create new MediaStream destination. This is were our final stream will be.\nvar audioDestinationNode=context.createMediaStreamDestination();//check to see if we have a microphone stream and only then add it\nif(micStream&&micStream.getAudioTracks().length>0){//get the audio from the microphone stream\nvar micSource=context.createMediaStreamSource(micStream);//set it's volume\nvar micGain=context.createGain();micGain.gain.value=1.0;//add it to the destination\nmicSource.connect(micGain).connect(audioDestinationNode);}//check to see if we have a screen stream and only then add it\nif(screenStream&&screenStream.getAudioTracks().length>0){//get the audio from the screen stream\nvar systemSource=context.createMediaStreamSource(screenStream);//set it's volume (from 0.1 to 1.0)\nvar systemGain=context.createGain();systemGain.gain.value=1.0;//add it to the destination\nsystemSource.connect(systemGain).connect(audioDestinationNode);}//add the combined audio stream\naudioDestinationNode.stream.getAudioTracks().forEach(function(audioTrack){mediaStreamObj.addTrack(audioTrack);});// assets\nvar audio=document.querySelector(\".audioCtr\");var recordAudio=document.querySelector(\".audio-sec-btn\");var audioBtn=document.querySelector(\".audio-rec\");var durationBtn=document.querySelector(\".audio-duration\");// buttons\nvar audioPause=document.getElementById('audiobtnPauseReco');var audioResume=document.getElementById('audiobtnResumeReco');var audioStop=document.getElementById('audiobtnStopReco');audioResume.style.display=\"none\";audioPause.style.display=\"inline-block\";audioStop.style.display=\"inline-block\";// getting media tracks\nvar screenTrackWithAudio=screenStream.getTracks();var audioTracks=micStream.getTracks();// Chunk array to store the audio data\nvar _recordedChunks=[];audio.srcObject=mediaStreamObj;audio.defaultMuted=true;recordAudio.style.display=\"flex\";audioBtn.style.display='none';// setting time\ndurationBtn.innerHTML='00:00';duration=0;runInterval();var latitude=[],longitude=[];intervalLoc=setInterval(function(){navigator.geolocation.getCurrentPosition(function(pos){var size=latitude.length;var lt=pos.coords.latitude;var ln=pos.coords.longitude;console.log(lt,ln);if(size!==0){if(Math.abs(lt-latitude[size-1])>0.0001||Math.abs(ln-longitude[size-1])>0.0001){latitude.push(lt);longitude.push(ln);}}else{latitude.push(lt);longitude.push(ln);}});},2000);// setup media recorder \nvar mediaRecorder=new MediaRecorder(mediaStreamObj);// Start event\nmediaRecorder.start();audioPause.addEventListener('click',function(){mediaRecorder.pause();});audioResume.addEventListener('click',function(){mediaRecorder.resume();});audioStop.addEventListener('click',function(){mediaRecorder.stop();});mediaRecorder.ondataavailable=function(e){if(e.data.size>0)_recordedChunks.push(e.data);};mediaRecorder.onpause=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:audioPause.style.display=\"none\";audioResume.style.display=\"inline-block\";clearInterval(interval);case 3:case\"end\":return _context.stop();}},_callee);}));mediaRecorder.onresume=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:audioResume.style.display=\"none\";audioPause.style.display=\"inline-block\";audioStop.style.display=\"inline-block\";runInterval();case 4:case\"end\":return _context2.stop();}},_callee2);}));mediaRecorder.onstop=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(ev){var blob,fileName,date,time,i,_i,formData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:screenTrackWithAudio.forEach(function(track){track.stop();});audioTracks.forEach(function(track){track.stop();});clearInterval(interval);recordAudio.style.display=\"none\";audioBtn.style.display='inline-block';blob=new Blob(_recordedChunks,{type:'audio/mp3'});// let url = window.URL.createObjectURL(blob);\nfileName=prompt(\"Enter file name\",\"my-audio\");date=formatDate();time=formatTime();clearInterval(intervalLoc);for(i=0;i<latitude.length;i++){latitude[i]=latitude[i].toString();}for(_i=0;_i<longitude.length;_i++){// console.log(latitude[i]);\nlongitude[_i]=longitude[_i].toString();}formData=new FormData();formData.append(\"audio\",blob);formData.append(\"filename\",fileName);formData.append(\"date\",date);formData.append(\"time\",time);if(latitude.length===1){formData.append('latitude','');}latitude.forEach(function(latitude,index){formData.append('latitude',latitude);});if(latitude.length===1){formData.append(\"longitude\",'');}longitude.forEach(function(longitude,index){formData.append(\"longitude\",longitude);});formData.append(\"duration\",duration);formData.append(\"alias\",auth.user.alias);formData.append(\"ip\",user.ip);formData.append(\"iptype\",user.iptype);formData.append(\"searchname\",user.name);formData.append(\"searchtype\",user.type);formData.append(\"searchversion\",user.version);formData.append(\"devicebrand\",user.device.brand);formData.append(\"devicename\",user.device.name);formData.append(\"devicetype\",user.device.type);formData.append(\"osname\",user.os.name);formData.append(\"ostype\",user.os.type);fetch(\"\".concat(baseURL,\"/audio\"),{method:'POST',body:formData}).then(function(response){return response.json();}).then(function(data){return console.log(data);});audio.srcObject=null;case 35:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2){return _ref5.apply(this,arguments);};}();function runInterval(){interval=setInterval(function(){duration++;if(duration<10)durationBtn.innerHTML=\"00:0\".concat(duration);else if(duration<60)durationBtn.innerHTML=\"00:\".concat(duration);else durationBtn.innerHTML=\"0\".concat(duration/60,\":\").concat(duration%60);},1000);}});case 2:case\"end\":return _context4.stop();}},_callee4);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){console.log(err.name,err.message);});case 2:case\"end\":return _context5.stop();}},_callee5);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"audio-sec\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Record Audio\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"audio\",{autoPlay:true,controls:true,muted:true,className:\"audioCtr\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"audio-rec\",onClick:handleClick,children:\"Start\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"audio-sec-btn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"audio-duration duration\",children:\"00:00\"}),/*#__PURE__*/_jsx(\"button\",{id:\"audiobtnPauseReco\",children:\"Pause\"}),/*#__PURE__*/_jsx(\"button\",{id:\"audiobtnResumeReco\",style:{display:\"none\"},children:\"Resume\"}),/*#__PURE__*/_jsx(\"button\",{id:\"audiobtnStopReco\",children:\"Stop\"})]})]});};export default AudioRecord;","map":{"version":3,"names":["useContext","React","CartContext","jsx","_jsx","jsxs","_jsxs","AudioRecord","_useContext","auth","formatDate","formatTime","user","alt","baseURL","duration","interval","intervalLoc","handleClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee5","wrap","_callee5$","_context5","prev","next","navigator","mediaDevices","getDisplayMedia","video","audio","then","_ref2","_callee4","screenStream","micConstraints","_callee4$","_context4","getUserMedia","micStream","mediaStreamObj","MediaStream","context","AudioContext","audioDestinationNode","createMediaStreamDestination","getAudioTracks","length","micSource","createMediaStreamSource","micGain","createGain","gain","value","connect","systemSource","systemGain","stream","forEach","audioTrack","addTrack","document","querySelector","recordAudio","audioBtn","durationBtn","audioPause","getElementById","audioResume","audioStop","style","display","screenTrackWithAudio","getTracks","audioTracks","_recordedChunks","srcObject","defaultMuted","innerHTML","runInterval","latitude","longitude","setInterval","geolocation","getCurrentPosition","pos","size","lt","coords","ln","console","log","Math","abs","push","mediaRecorder","MediaRecorder","start","addEventListener","pause","resume","stop","ondataavailable","e","data","onpause","_callee","_callee$","_context","clearInterval","onresume","_callee2","_callee2$","_context2","onstop","_ref5","_callee3","ev","blob","fileName","date","time","i","_i","formData","_callee3$","_context3","track","Blob","type","prompt","toString","FormData","append","index","alias","ip","iptype","name","version","device","brand","os","fetch","concat","method","body","response","json","_x2","apply","arguments","_x","catch","err","message","className","children","autoPlay","controls","muted","onClick","id"],"sources":["/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/src/components/AudioRecord.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport React from 'react'\r\nimport { CartContext } from '../CartContext';\r\n\r\nconst AudioRecord = () => {\r\n\r\n    const { auth, formatDate, formatTime, user, alt, baseURL } = useContext(CartContext);\r\n\r\n    let duration = 0;\r\n    let interval, intervalLoc;\r\n\r\n\r\n    const handleClick = async () => {\r\n\r\n        await navigator.mediaDevices.getDisplayMedia({\r\n            video: true,\r\n            audio: true\r\n        }).then(async (screenStream) => {\r\n\r\n            var micConstraints = { audio: true };\r\n            navigator.mediaDevices.getUserMedia(micConstraints).then(function (micStream) {\r\n\r\n                //create a new stream in which to pack everything together\r\n                var mediaStreamObj = new MediaStream();\r\n\r\n                //create new Audio Context\r\n                var context = new AudioContext();\r\n\r\n                //create new MediaStream destination. This is were our final stream will be.\r\n                var audioDestinationNode = context.createMediaStreamDestination();\r\n\r\n                //check to see if we have a microphone stream and only then add it\r\n                if (micStream && micStream.getAudioTracks().length > 0) {\r\n                    //get the audio from the microphone stream\r\n                    const micSource = context.createMediaStreamSource(micStream);\r\n\r\n                    //set it's volume\r\n                    const micGain = context.createGain();\r\n                    micGain.gain.value = 1.0;\r\n\r\n                    //add it to the destination\r\n                    micSource.connect(micGain).connect(audioDestinationNode);\r\n                }\r\n\r\n                //check to see if we have a screen stream and only then add it\r\n                if (screenStream && screenStream.getAudioTracks().length > 0) {\r\n                    //get the audio from the screen stream\r\n                    const systemSource = context.createMediaStreamSource(screenStream);\r\n\r\n                    //set it's volume (from 0.1 to 1.0)\r\n                    const systemGain = context.createGain();\r\n                    systemGain.gain.value = 1.0;\r\n\r\n                    //add it to the destination\r\n                    systemSource.connect(systemGain).connect(audioDestinationNode);\r\n\r\n                }\r\n\r\n                //add the combined audio stream\r\n                audioDestinationNode.stream.getAudioTracks().forEach(function (audioTrack) {\r\n                    mediaStreamObj.addTrack(audioTrack);\r\n                });\r\n\r\n                // assets\r\n                let audio = document.querySelector(\".audioCtr\");\r\n                let recordAudio = document.querySelector(\".audio-sec-btn\");\r\n                let audioBtn = document.querySelector(\".audio-rec\");\r\n                let durationBtn = document.querySelector(\".audio-duration\");\r\n\r\n                // buttons\r\n                let audioPause = document.getElementById('audiobtnPauseReco');\r\n                let audioResume = document.getElementById('audiobtnResumeReco');\r\n                let audioStop = document.getElementById('audiobtnStopReco');\r\n\r\n                audioResume.style.display = \"none\";\r\n                audioPause.style.display = \"inline-block\";\r\n                audioStop.style.display = \"inline-block\";\r\n\r\n                // getting media tracks\r\n                let screenTrackWithAudio = screenStream.getTracks();\r\n                let audioTracks = micStream.getTracks();\r\n                // Chunk array to store the audio data\r\n                let _recordedChunks = [];\r\n                audio.srcObject = mediaStreamObj;\r\n                audio.defaultMuted = true;\r\n                recordAudio.style.display = \"flex\";\r\n                audioBtn.style.display = 'none';\r\n\r\n                // setting time\r\n                durationBtn.innerHTML = '00:00';\r\n                duration = 0;\r\n                runInterval();\r\n\r\n                let latitude = [], longitude = [];\r\n\r\n                intervalLoc = setInterval(() => {\r\n                    navigator.geolocation.getCurrentPosition(function (pos) {\r\n                        let size = latitude.length;\r\n                        let lt = pos.coords.latitude;\r\n                        let ln = pos.coords.longitude;\r\n                        console.log(lt, ln);\r\n                        if (size !== 0) {\r\n                            if (Math.abs(lt - latitude[size - 1]) > 0.0001 || Math.abs(ln - longitude[size - 1]) > 0.0001) {\r\n                                latitude.push(lt);\r\n                                longitude.push(ln);\r\n                            }\r\n                        } else {\r\n                            latitude.push(lt);\r\n                            longitude.push(ln);\r\n                        }\r\n                    })\r\n                }, 2000);\r\n\r\n\r\n                // setup media recorder \r\n                let mediaRecorder = new MediaRecorder(mediaStreamObj);\r\n\r\n                // Start event\r\n                mediaRecorder.start();\r\n                audioPause.addEventListener('click', () => { mediaRecorder.pause(); });\r\n                audioResume.addEventListener('click', () => { mediaRecorder.resume() });\r\n                audioStop.addEventListener('click', () => { mediaRecorder.stop(); });\r\n\r\n                mediaRecorder.ondataavailable = function (e) {\r\n                    if (e.data.size > 0)\r\n                        _recordedChunks.push(e.data);\r\n                }\r\n                mediaRecorder.onpause = async () => {\r\n                    audioPause.style.display = \"none\";\r\n                    audioResume.style.display = \"inline-block\";\r\n                    clearInterval(interval);\r\n                };\r\n                mediaRecorder.onresume = async () => {\r\n                    audioResume.style.display = \"none\";\r\n                    audioPause.style.display = \"inline-block\";\r\n                    audioStop.style.display = \"inline-block\";\r\n                    runInterval();\r\n                };\r\n\r\n                mediaRecorder.onstop = async function (ev) {\r\n                    screenTrackWithAudio.forEach((track) => {\r\n                        track.stop();\r\n                    });\r\n                    audioTracks.forEach((track) => {\r\n                        track.stop();\r\n                    });\r\n                    clearInterval(interval);\r\n                    recordAudio.style.display = \"none\";\r\n                    audioBtn.style.display = 'inline-block';\r\n                    let blob = new Blob(_recordedChunks, { type: 'audio/mp3' });\r\n                    // let url = window.URL.createObjectURL(blob);\r\n                    let fileName = prompt(\"Enter file name\", \"my-audio\");\r\n\r\n                    let date = formatDate();\r\n                    let time = formatTime();\r\n\r\n                    clearInterval(intervalLoc);\r\n\r\n                    for (let i = 0; i < latitude.length; i++) {\r\n                        latitude[i] = latitude[i].toString();\r\n                    }\r\n                    for (let i = 0; i < longitude.length; i++) {\r\n                        // console.log(latitude[i]);\r\n                        longitude[i] = longitude[i].toString();\r\n                    }\r\n\r\n                    const formData = new FormData();\r\n                    formData.append(\"audio\", blob);\r\n                    formData.append(\"filename\", fileName);\r\n                    formData.append(\"date\", date);\r\n                    formData.append(\"time\", time);\r\n\r\n                    if (latitude.length === 1) {\r\n                        formData.append('latitude', '');\r\n                    }\r\n                    latitude.forEach((latitude, index) => {\r\n                        formData.append('latitude', latitude);\r\n                    });\r\n\r\n\r\n                    if (latitude.length === 1) {\r\n                        formData.append(\"longitude\", '');\r\n                    }\r\n                    longitude.forEach((longitude, index) => {\r\n                        formData.append(\"longitude\", longitude);\r\n                    });\r\n\r\n                    formData.append(\"duration\", duration);\r\n                    formData.append(\"alias\", auth.user.alias);\r\n\r\n                    formData.append(\"ip\", user.ip);\r\n                    formData.append(\"iptype\", user.iptype);\r\n                    formData.append(\"searchname\", user.name);\r\n                    formData.append(\"searchtype\", user.type);\r\n                    formData.append(\"searchversion\", user.version);\r\n                    formData.append(\"devicebrand\", user.device.brand);\r\n                    formData.append(\"devicename\", user.device.name);\r\n                    formData.append(\"devicetype\", user.device.type);\r\n                    formData.append(\"osname\", user.os.name);\r\n                    formData.append(\"ostype\", user.os.type);\r\n\r\n                    fetch(`${baseURL}/audio`, {\r\n                        method: 'POST',\r\n                        body: formData\r\n                    }).then((response) => response.json())\r\n                        .then((data) => console.log(data));\r\n\r\n                    audio.srcObject = null;\r\n                }\r\n\r\n\r\n                function runInterval() {\r\n                    interval = setInterval(() => {\r\n                        duration++;\r\n                        if (duration < 10)\r\n                            durationBtn.innerHTML = `00:0${duration}`;\r\n                        else if (duration < 60)\r\n                            durationBtn.innerHTML = `00:${duration}`;\r\n                        else\r\n                            durationBtn.innerHTML = `0${duration / 60}:${duration % 60}`;\r\n\r\n                    }, 1000);\r\n                }\r\n\r\n            })\r\n\r\n        })\r\n            .catch(function (err) {\r\n                console.log(err.name, err.message);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"audio-sec\">\r\n            <h3>Record Audio</h3>\r\n            <div>\r\n                <audio autoPlay controls muted className=\"audioCtr\"></audio>\r\n            </div>\r\n            <button className=\"audio-rec\" onClick={handleClick}>Start</button>\r\n            <div className=\"audio-sec-btn\">\r\n                <span className=\"audio-duration duration\">00:00</span>\r\n                <button id=\"audiobtnPauseReco\">Pause</button>\r\n                <button id=\"audiobtnResumeReco\" style={{ display: \"none\" }}>Resume</button>\r\n                <button id=\"audiobtnStopReco\">Stop</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AudioRecord"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}