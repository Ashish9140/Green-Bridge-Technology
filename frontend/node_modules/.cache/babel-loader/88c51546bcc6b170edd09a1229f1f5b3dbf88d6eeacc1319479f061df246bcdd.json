{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import React from'react';import{CartContext}from'../CartContext';import Alert from'./Alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VideoWith=function VideoWith(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],setAlert=_useState2[1];var _useContext=useContext(CartContext),auth=_useContext.auth,formatDate=_useContext.formatDate,formatTime=_useContext.formatTime,user=_useContext.user,baseURL=_useContext.baseURL;var duration=0;var interval,intervalLoc;var setAlertTime=function setAlertTime(time){setTimeout(function(){setAlert(false);},time);};var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return navigator.mediaDevices.getUserMedia({audio:true,video:true}).then(function(mediaStreamObj){console.log(user);// assets\nvar videoWithAudio=document.querySelector(\".videoWithAudioCtr\");var recordVideoWith=document.querySelector(\".videoWithAudio-sec-btn\");var videoWithBtn=document.querySelector(\".video-rec-withAudio\");var durationBtn=document.querySelector(\".videoWithAudio-duration\");// buttons\nvar videoWithAudioPause=document.getElementById('videoWithAudiobtnPauseReco');var videoWithAudioResume=document.getElementById('videoWithAudiobtnResumeReco');var videoWithAudioStop=document.getElementById('videoWithAudiobtnStopReco');// getting media tracks\nvar videoTrackWithAudio=mediaStreamObj.getTracks();// Chunk array to store the audio data\nvar _recordedChunks=[];videoWithAudio.srcObject=mediaStreamObj;videoWithBtn.style.display='none';recordVideoWith.style.display='flex';// Setup timing\ndurationBtn.innerHTML='00:00';duration=0;runInterval();var latitude=[],longitude=[];intervalLoc=setInterval(function(){navigator.geolocation.getCurrentPosition(function(pos){var size=latitude.length;var lt=pos.coords.latitude;var ln=pos.coords.longitude;console.log(lt,ln);if(size!==0){if(Math.abs(lt-latitude[size-1])>0.0001||Math.abs(ln-longitude[size-1])>0.0001){latitude.push(lt);longitude.push(ln);}}else{latitude.push(lt);longitude.push(ln);}});},2000);// setup media recorder \nvar mediaRecorder=new MediaRecorder(mediaStreamObj);// Start event\nmediaRecorder.start();videoWithAudioPause.addEventListener('click',function(){mediaRecorder.pause();});videoWithAudioResume.addEventListener('click',function(){mediaRecorder.resume();});videoWithAudioStop.addEventListener('click',function(){mediaRecorder.stop();});// If audio data available then push\n// it to the chunk array\nmediaRecorder.ondataavailable=function(e){if(e.data.size>0)_recordedChunks.push(e.data);};mediaRecorder.onpause=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:videoWithAudioPause.style.display=\"none\";videoWithAudioResume.style.display=\"inline-block\";clearInterval(interval);case 3:case\"end\":return _context.stop();}},_callee);}));mediaRecorder.onresume=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:videoWithAudioResume.style.display=\"none\";videoWithAudioPause.style.display=\"inline-block\";videoWithAudioStop.style.display=\"inline-block\";runInterval();case 4:case\"end\":return _context2.stop();}},_callee2);}));// Convert the audio data in to blob\n// after stopping the recording\nmediaRecorder.onstop=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(ev){var blob,url,fileName,date,time,i,_i,formData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:videoTrackWithAudio.forEach(function(track){track.stop();});// duration;\nclearInterval(interval);videoWithBtn.style.display='inline-block';recordVideoWith.style.display='none';blob=new Blob(_recordedChunks,{type:'video/mp4'});url=window.URL.createObjectURL(blob);// take file input\nfileName=prompt(\"Enter file name\",\"my-video\");// save audio file\ndate=formatDate();time=formatTime();clearInterval(intervalLoc);for(i=0;i<latitude.length;i++){latitude[i]=latitude[i].toString();}for(_i=0;_i<longitude.length;_i++){longitude[_i]=longitude[_i].toString();}formData=new FormData();formData.append(\"videowith\",blob);formData.append(\"filename\",fileName);formData.append(\"date\",date);formData.append(\"time\",time);// appending location into form data\nif(latitude.length===1){formData.append('latitude','');}latitude.forEach(function(latitude,index){formData.append('latitude',latitude);});if(latitude.length===1){formData.append(\"longitude\",'');}longitude.forEach(function(longitude,index){formData.append(\"longitude\",longitude);});formData.append(\"duration\",duration);formData.append(\"alias\",auth.user.alias);formData.append(\"ip\",user.ip);formData.append(\"iptype\",user.iptype);formData.append(\"devicebrand\",user.device.brand);formData.append(\"devicename\",user.device.name);formData.append(\"devicetype\",user.device.type);formData.append(\"searchname\",user.name);formData.append(\"searchtype\",user.type);formData.append(\"searchversion\",user.version);formData.append(\"osname\",user.os.name);formData.append(\"ostype\",user.os.type);fetch(\"\".concat(baseURL,\"/videowith\"),{method:'POST',body:formData}).then(function(response){return response.json();}).then(function(data){console.log(data);setAlert(true);setAlertTime(2000);});videoWithAudio.srcObject=null;case 35:case\"end\":return _context3.stop();}},_callee3);}));return function(_x){return _ref4.apply(this,arguments);};}();function runInterval(){interval=setInterval(function(){duration++;if(duration<10)durationBtn.innerHTML=\"00:0\".concat(duration);else if(duration<60)durationBtn.innerHTML=\"00:\".concat(duration);else durationBtn.innerHTML=\"0\".concat(duration/60,\":\").concat(duration%60);},1000);}}).catch(function(err){console.log(err.name,err.message);});case 2:case\"end\":return _context4.stop();}},_callee4);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"videoWithAudio-sec\",children:[alert?/*#__PURE__*/_jsx(Alert,{text:\"File Saved\"}):\"\",/*#__PURE__*/_jsx(\"h3\",{children:\"Video With Audio\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"video\",{autoPlay:true,muted:true,className:\"videoWithAudioCtr\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"video-rec-withAudio\",onClick:handleClick,children:\"Start\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"videoWithAudio-sec-btn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"videoWithAudio-duration duration\",children:\"00:00\"}),/*#__PURE__*/_jsx(\"button\",{id:\"videoWithAudiobtnPauseReco\",children:\"Pause\"}),/*#__PURE__*/_jsx(\"button\",{id:\"videoWithAudiobtnResumeReco\",style:{display:\"none\"},children:\"Resume\"}),/*#__PURE__*/_jsx(\"button\",{id:\"videoWithAudiobtnStopReco\",children:\"Stop\"})]})]});};export default VideoWith;","map":{"version":3,"names":["useContext","useState","React","CartContext","Alert","jsx","_jsx","jsxs","_jsxs","VideoWith","_useState","_useState2","_slicedToArray","alert","setAlert","_useContext","auth","formatDate","formatTime","user","baseURL","duration","interval","intervalLoc","setAlertTime","time","setTimeout","handleClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee4","wrap","_callee4$","_context4","prev","next","navigator","mediaDevices","getUserMedia","audio","video","then","mediaStreamObj","console","log","videoWithAudio","document","querySelector","recordVideoWith","videoWithBtn","durationBtn","videoWithAudioPause","getElementById","videoWithAudioResume","videoWithAudioStop","videoTrackWithAudio","getTracks","_recordedChunks","srcObject","style","display","innerHTML","runInterval","latitude","longitude","setInterval","geolocation","getCurrentPosition","pos","size","length","lt","coords","ln","Math","abs","push","mediaRecorder","MediaRecorder","start","addEventListener","pause","resume","stop","ondataavailable","e","data","onpause","_callee","_callee$","_context","clearInterval","onresume","_callee2","_callee2$","_context2","onstop","_ref4","_callee3","ev","blob","url","fileName","date","i","_i","formData","_callee3$","_context3","forEach","track","Blob","type","window","URL","createObjectURL","prompt","toString","FormData","append","index","alias","ip","iptype","device","brand","name","version","os","fetch","concat","method","body","response","json","_x","apply","arguments","catch","err","message","className","children","text","autoPlay","muted","onClick","id"],"sources":["/Users/ashishkumar/Desktop/Labs Co/Resume Projects/Smart Snapper/frontend/src/components/VideoWith.js"],"sourcesContent":["import { useContext,useState } from 'react';\r\nimport React from 'react'\r\nimport { CartContext } from '../CartContext';\r\nimport Alert from './Alert';\r\n\r\n\r\nconst VideoWith = () => {\r\n    const [alert, setAlert] = useState(false);\r\n    const { auth, formatDate, formatTime, user, baseURL } = useContext(CartContext);\r\n\r\n    let duration = 0;\r\n    let interval, intervalLoc;\r\n\r\n    const setAlertTime = (time) => {\r\n        setTimeout(() => {\r\n            setAlert(false);\r\n        }, time);\r\n    }\r\n\r\n\r\n    const handleClick = async () => {\r\n        await navigator.mediaDevices.getUserMedia({ audio: true, video: true })\r\n            .then(function (mediaStreamObj) {\r\n\r\n                console.log(user);\r\n\r\n                // assets\r\n                let videoWithAudio = document.querySelector(\".videoWithAudioCtr\");\r\n                let recordVideoWith = document.querySelector(\".videoWithAudio-sec-btn\");\r\n                let videoWithBtn = document.querySelector(\".video-rec-withAudio\");\r\n\r\n                let durationBtn = document.querySelector(\".videoWithAudio-duration\");\r\n\r\n                // buttons\r\n                let videoWithAudioPause = document.getElementById('videoWithAudiobtnPauseReco');\r\n                let videoWithAudioResume = document.getElementById('videoWithAudiobtnResumeReco');\r\n                let videoWithAudioStop = document.getElementById('videoWithAudiobtnStopReco');\r\n\r\n\r\n                // getting media tracks\r\n                let videoTrackWithAudio = mediaStreamObj.getTracks();\r\n                // Chunk array to store the audio data\r\n                let _recordedChunks = [];\r\n                videoWithAudio.srcObject = mediaStreamObj;\r\n                videoWithBtn.style.display = 'none';\r\n                recordVideoWith.style.display = 'flex';\r\n\r\n\r\n\r\n\r\n                // Setup timing\r\n                durationBtn.innerHTML = '00:00';\r\n                duration = 0;\r\n                runInterval();\r\n\r\n                let latitude = [], longitude = [];\r\n\r\n                intervalLoc = setInterval(() => {\r\n                    navigator.geolocation.getCurrentPosition(function (pos) {\r\n                        let size = latitude.length;\r\n                        let lt = pos.coords.latitude;\r\n                        let ln = pos.coords.longitude;\r\n                        console.log(lt, ln);\r\n                        if (size !== 0) {\r\n                            if (Math.abs(lt - latitude[size - 1]) > 0.0001 || Math.abs(ln - longitude[size - 1]) > 0.0001) {\r\n                                latitude.push(lt);\r\n                                longitude.push(ln);\r\n                            }\r\n                        } else {\r\n                            latitude.push(lt);\r\n                            longitude.push(ln);\r\n                        }\r\n                    })\r\n                }, 2000);\r\n\r\n\r\n                // setup media recorder \r\n                let mediaRecorder = new MediaRecorder(mediaStreamObj);\r\n\r\n                // Start event\r\n                mediaRecorder.start();\r\n                videoWithAudioPause.addEventListener('click', () => { mediaRecorder.pause(); });\r\n                videoWithAudioResume.addEventListener('click', () => { mediaRecorder.resume(); });\r\n                videoWithAudioStop.addEventListener('click', () => { mediaRecorder.stop(); });\r\n\r\n                // If audio data available then push\r\n                // it to the chunk array\r\n                mediaRecorder.ondataavailable = function (e) {\r\n                    if (e.data.size > 0)\r\n                        _recordedChunks.push(e.data);\r\n                }\r\n                mediaRecorder.onpause = async () => {\r\n                    videoWithAudioPause.style.display = \"none\";\r\n                    videoWithAudioResume.style.display = \"inline-block\";\r\n                    clearInterval(interval);\r\n                };\r\n                mediaRecorder.onresume = async () => {\r\n                    videoWithAudioResume.style.display = \"none\";\r\n                    videoWithAudioPause.style.display = \"inline-block\";\r\n                    videoWithAudioStop.style.display = \"inline-block\";\r\n                    runInterval();\r\n                };\r\n\r\n                // Convert the audio data in to blob\r\n                // after stopping the recording\r\n                mediaRecorder.onstop = async function (ev) {\r\n                    videoTrackWithAudio.forEach((track) => {\r\n                        track.stop();\r\n                    });\r\n                    // duration;\r\n                    clearInterval(interval);\r\n                    videoWithBtn.style.display = 'inline-block';\r\n                    recordVideoWith.style.display = 'none';\r\n                    var blob = new Blob(_recordedChunks, { type: 'video/mp4' });\r\n                    let url = window.URL.createObjectURL(blob);\r\n                    // take file input\r\n                    let fileName = prompt(\"Enter file name\", \"my-video\");\r\n\r\n                    // save audio file\r\n                    let date = formatDate();\r\n                    let time = formatTime();\r\n\r\n                    clearInterval(intervalLoc);\r\n\r\n                    for (let i = 0; i < latitude.length; i++) {\r\n                        latitude[i] = latitude[i].toString();\r\n                    }\r\n                    for (let i = 0; i < longitude.length; i++) {\r\n                        longitude[i] = longitude[i].toString();\r\n                    }\r\n\r\n\r\n\r\n\r\n                    const formData = new FormData();\r\n                    formData.append(\"videowith\", blob);\r\n                    formData.append(\"filename\", fileName);\r\n                    formData.append(\"date\", date);\r\n                    formData.append(\"time\", time);\r\n\r\n                    // appending location into form data\r\n                    if (latitude.length === 1) {\r\n                        formData.append('latitude', '');\r\n                    }\r\n                    latitude.forEach((latitude, index) => {\r\n                        formData.append('latitude', latitude);\r\n                    });\r\n                    if (latitude.length === 1) {\r\n                        formData.append(\"longitude\", '');\r\n                    }\r\n                    longitude.forEach((longitude, index) => {\r\n                        formData.append(\"longitude\", longitude);\r\n                    });\r\n\r\n                    formData.append(\"duration\", duration);\r\n                    formData.append(\"alias\", auth.user.alias);\r\n\r\n                    formData.append(\"ip\", user.ip);\r\n                    formData.append(\"iptype\", user.iptype);\r\n                    formData.append(\"devicebrand\", user.device.brand);\r\n                    formData.append(\"devicename\", user.device.name);\r\n                    formData.append(\"devicetype\", user.device.type);\r\n                    formData.append(\"searchname\", user.name);\r\n                    formData.append(\"searchtype\", user.type);\r\n                    formData.append(\"searchversion\", user.version);\r\n                    formData.append(\"osname\", user.os.name);\r\n                    formData.append(\"ostype\", user.os.type);\r\n\r\n                    fetch(`${baseURL}/videowith`, {\r\n                        method: 'POST',\r\n                        body: formData\r\n                    }).then((response) => response.json())\r\n                        .then((data) => {\r\n                            console.log(data);\r\n                            setAlert(true);\r\n                            setAlertTime(2000);\r\n                        });\r\n\r\n                    videoWithAudio.srcObject = null;\r\n                }\r\n\r\n                function runInterval() {\r\n                    interval = setInterval(() => {\r\n                        duration++;\r\n                        if (duration < 10)\r\n                            durationBtn.innerHTML = `00:0${duration}`;\r\n                        else if (duration < 60)\r\n                            durationBtn.innerHTML = `00:${duration}`;\r\n                        else\r\n                            durationBtn.innerHTML = `0${duration / 60}:${duration % 60}`;\r\n\r\n                    }, 1000);\r\n                }\r\n            })\r\n\r\n            .catch(function (err) {\r\n                console.log(err.name, err.message);\r\n            });\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"videoWithAudio-sec\">\r\n            {alert ? <Alert text=\"File Saved\" /> : \"\"}\r\n            <h3>Video With Audio</h3>\r\n            <div>\r\n                <video autoPlay muted className=\"videoWithAudioCtr\"></video>\r\n            </div>\r\n            <button className=\"video-rec-withAudio\" onClick={handleClick}>Start</button>\r\n            <div className=\"videoWithAudio-sec-btn\">\r\n                <span className=\"videoWithAudio-duration duration\">00:00</span>\r\n                <button id=\"videoWithAudiobtnPauseReco\">Pause</button>\r\n                <button id=\"videoWithAudiobtnResumeReco\" style={{ display: \"none\" }}>Resume</button>\r\n                <button id=\"videoWithAudiobtnStopReco\">Stop</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoWith"],"mappings":"6eAAA,OAASA,UAAU,CAACC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG5B,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACpB,IAAAC,SAAA,CAA0BT,QAAQ,CAAC,KAAK,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,WAAA,CAAwDf,UAAU,CAACG,WAAW,CAAC,CAAvEa,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAAEC,UAAU,CAAAF,WAAA,CAAVE,UAAU,CAAEC,UAAU,CAAAH,WAAA,CAAVG,UAAU,CAAEC,IAAI,CAAAJ,WAAA,CAAJI,IAAI,CAAEC,OAAO,CAAAL,WAAA,CAAPK,OAAO,CAEnD,GAAI,CAAAC,QAAQ,CAAG,CAAC,CAChB,GAAI,CAAAC,QAAQ,CAAEC,WAAW,CAEzB,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,IAAI,CAAK,CAC3BC,UAAU,CAAC,UAAM,CACbZ,QAAQ,CAAC,KAAK,CAAC,CACnB,CAAC,CAAEW,IAAI,CAAC,CACZ,CAAC,CAGD,GAAM,CAAAE,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,SAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,UAAAC,SAAA,iBAAAA,SAAA,CAAAC,IAAA,CAAAD,SAAA,CAAAE,IAAA,SAAAF,SAAA,CAAAE,IAAA,SACV,CAAAC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC,CAAEC,KAAK,CAAE,IAAI,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CAClEC,IAAI,CAAC,SAAUC,cAAc,CAAE,CAE5BC,OAAO,CAACC,GAAG,CAAC3B,IAAI,CAAC,CAEjB;AACA,GAAI,CAAA4B,cAAc,CAAGC,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC,CACjE,GAAI,CAAAC,eAAe,CAAGF,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC,CACvE,GAAI,CAAAE,YAAY,CAAGH,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC,CAEjE,GAAI,CAAAG,WAAW,CAAGJ,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC,CAEpE;AACA,GAAI,CAAAI,mBAAmB,CAAGL,QAAQ,CAACM,cAAc,CAAC,4BAA4B,CAAC,CAC/E,GAAI,CAAAC,oBAAoB,CAAGP,QAAQ,CAACM,cAAc,CAAC,6BAA6B,CAAC,CACjF,GAAI,CAAAE,kBAAkB,CAAGR,QAAQ,CAACM,cAAc,CAAC,2BAA2B,CAAC,CAG7E;AACA,GAAI,CAAAG,mBAAmB,CAAGb,cAAc,CAACc,SAAS,CAAC,CAAC,CACpD;AACA,GAAI,CAAAC,eAAe,CAAG,EAAE,CACxBZ,cAAc,CAACa,SAAS,CAAGhB,cAAc,CACzCO,YAAY,CAACU,KAAK,CAACC,OAAO,CAAG,MAAM,CACnCZ,eAAe,CAACW,KAAK,CAACC,OAAO,CAAG,MAAM,CAKtC;AACAV,WAAW,CAACW,SAAS,CAAG,OAAO,CAC/B1C,QAAQ,CAAG,CAAC,CACZ2C,WAAW,CAAC,CAAC,CAEb,GAAI,CAAAC,QAAQ,CAAG,EAAE,CAAEC,SAAS,CAAG,EAAE,CAEjC3C,WAAW,CAAG4C,WAAW,CAAC,UAAM,CAC5B7B,SAAS,CAAC8B,WAAW,CAACC,kBAAkB,CAAC,SAAUC,GAAG,CAAE,CACpD,GAAI,CAAAC,IAAI,CAAGN,QAAQ,CAACO,MAAM,CAC1B,GAAI,CAAAC,EAAE,CAAGH,GAAG,CAACI,MAAM,CAACT,QAAQ,CAC5B,GAAI,CAAAU,EAAE,CAAGL,GAAG,CAACI,MAAM,CAACR,SAAS,CAC7BrB,OAAO,CAACC,GAAG,CAAC2B,EAAE,CAAEE,EAAE,CAAC,CACnB,GAAIJ,IAAI,GAAK,CAAC,CAAE,CACZ,GAAIK,IAAI,CAACC,GAAG,CAACJ,EAAE,CAAGR,QAAQ,CAACM,IAAI,CAAG,CAAC,CAAC,CAAC,CAAG,MAAM,EAAIK,IAAI,CAACC,GAAG,CAACF,EAAE,CAAGT,SAAS,CAACK,IAAI,CAAG,CAAC,CAAC,CAAC,CAAG,MAAM,CAAE,CAC3FN,QAAQ,CAACa,IAAI,CAACL,EAAE,CAAC,CACjBP,SAAS,CAACY,IAAI,CAACH,EAAE,CAAC,CACtB,CACJ,CAAC,IAAM,CACHV,QAAQ,CAACa,IAAI,CAACL,EAAE,CAAC,CACjBP,SAAS,CAACY,IAAI,CAACH,EAAE,CAAC,CACtB,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,IAAI,CAAC,CAGR;AACA,GAAI,CAAAI,aAAa,CAAG,GAAI,CAAAC,aAAa,CAACpC,cAAc,CAAC,CAErD;AACAmC,aAAa,CAACE,KAAK,CAAC,CAAC,CACrB5B,mBAAmB,CAAC6B,gBAAgB,CAAC,OAAO,CAAE,UAAM,CAAEH,aAAa,CAACI,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC/E5B,oBAAoB,CAAC2B,gBAAgB,CAAC,OAAO,CAAE,UAAM,CAAEH,aAAa,CAACK,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CACjF5B,kBAAkB,CAAC0B,gBAAgB,CAAC,OAAO,CAAE,UAAM,CAAEH,aAAa,CAACM,IAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAE7E;AACA;AACAN,aAAa,CAACO,eAAe,CAAG,SAAUC,CAAC,CAAE,CACzC,GAAIA,CAAC,CAACC,IAAI,CAACjB,IAAI,CAAG,CAAC,CACfZ,eAAe,CAACmB,IAAI,CAACS,CAAC,CAACC,IAAI,CAAC,CACpC,CAAC,CACDT,aAAa,CAACU,OAAO,cAAA5D,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA2D,QAAA,SAAA5D,mBAAA,GAAAG,IAAA,UAAA0D,SAAAC,QAAA,iBAAAA,QAAA,CAAAxD,IAAA,CAAAwD,QAAA,CAAAvD,IAAA,SACpBgB,mBAAmB,CAACQ,KAAK,CAACC,OAAO,CAAG,MAAM,CAC1CP,oBAAoB,CAACM,KAAK,CAACC,OAAO,CAAG,cAAc,CACnD+B,aAAa,CAACvE,QAAQ,CAAC,CAAC,wBAAAsE,QAAA,CAAAP,IAAA,MAAAK,OAAA,GAC3B,GACDX,aAAa,CAACe,QAAQ,cAAAjE,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgE,SAAA,SAAAjE,mBAAA,GAAAG,IAAA,UAAA+D,UAAAC,SAAA,iBAAAA,SAAA,CAAA7D,IAAA,CAAA6D,SAAA,CAAA5D,IAAA,SACrBkB,oBAAoB,CAACM,KAAK,CAACC,OAAO,CAAG,MAAM,CAC3CT,mBAAmB,CAACQ,KAAK,CAACC,OAAO,CAAG,cAAc,CAClDN,kBAAkB,CAACK,KAAK,CAACC,OAAO,CAAG,cAAc,CACjDE,WAAW,CAAC,CAAC,CAAC,wBAAAiC,SAAA,CAAAZ,IAAA,MAAAU,QAAA,GACjB,GAED;AACA;AACAhB,aAAa,CAACmB,MAAM,6BAAAC,KAAA,CAAAtE,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAqE,SAAgBC,EAAE,MAAAC,IAAA,CAAAC,GAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAhF,IAAA,CAAAiF,CAAA,CAAAC,EAAA,CAAAC,QAAA,QAAA9E,mBAAA,GAAAG,IAAA,UAAA4E,UAAAC,SAAA,iBAAAA,SAAA,CAAA1E,IAAA,CAAA0E,SAAA,CAAAzE,IAAA,SACrCoB,mBAAmB,CAACsD,OAAO,CAAC,SAACC,KAAK,CAAK,CACnCA,KAAK,CAAC3B,IAAI,CAAC,CAAC,CAChB,CAAC,CAAC,CACF;AACAQ,aAAa,CAACvE,QAAQ,CAAC,CACvB6B,YAAY,CAACU,KAAK,CAACC,OAAO,CAAG,cAAc,CAC3CZ,eAAe,CAACW,KAAK,CAACC,OAAO,CAAG,MAAM,CAClCwC,IAAI,CAAG,GAAI,CAAAW,IAAI,CAACtD,eAAe,CAAE,CAAEuD,IAAI,CAAE,WAAY,CAAC,CAAC,CACvDX,GAAG,CAAGY,MAAM,CAACC,GAAG,CAACC,eAAe,CAACf,IAAI,CAAC,CAC1C;AACIE,QAAQ,CAAGc,MAAM,CAAC,iBAAiB,CAAE,UAAU,CAAC,CAEpD;AACIb,IAAI,CAAGxF,UAAU,CAAC,CAAC,CACnBQ,IAAI,CAAGP,UAAU,CAAC,CAAC,CAEvB2E,aAAa,CAACtE,WAAW,CAAC,CAE1B,IAASmF,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGzC,QAAQ,CAACO,MAAM,CAAEkC,CAAC,EAAE,CAAE,CACtCzC,QAAQ,CAACyC,CAAC,CAAC,CAAGzC,QAAQ,CAACyC,CAAC,CAAC,CAACa,QAAQ,CAAC,CAAC,CACxC,CACA,IAASb,EAAC,CAAG,CAAC,CAAEA,EAAC,CAAGxC,SAAS,CAACM,MAAM,CAAEkC,EAAC,EAAE,CAAE,CACvCxC,SAAS,CAACwC,EAAC,CAAC,CAAGxC,SAAS,CAACwC,EAAC,CAAC,CAACa,QAAQ,CAAC,CAAC,CAC1C,CAKMX,QAAQ,CAAG,GAAI,CAAAY,QAAQ,CAAC,CAAC,CAC/BZ,QAAQ,CAACa,MAAM,CAAC,WAAW,CAAEnB,IAAI,CAAC,CAClCM,QAAQ,CAACa,MAAM,CAAC,UAAU,CAAEjB,QAAQ,CAAC,CACrCI,QAAQ,CAACa,MAAM,CAAC,MAAM,CAAEhB,IAAI,CAAC,CAC7BG,QAAQ,CAACa,MAAM,CAAC,MAAM,CAAEhG,IAAI,CAAC,CAE7B;AACA,GAAIwC,QAAQ,CAACO,MAAM,GAAK,CAAC,CAAE,CACvBoC,QAAQ,CAACa,MAAM,CAAC,UAAU,CAAE,EAAE,CAAC,CACnC,CACAxD,QAAQ,CAAC8C,OAAO,CAAC,SAAC9C,QAAQ,CAAEyD,KAAK,CAAK,CAClCd,QAAQ,CAACa,MAAM,CAAC,UAAU,CAAExD,QAAQ,CAAC,CACzC,CAAC,CAAC,CACF,GAAIA,QAAQ,CAACO,MAAM,GAAK,CAAC,CAAE,CACvBoC,QAAQ,CAACa,MAAM,CAAC,WAAW,CAAE,EAAE,CAAC,CACpC,CACAvD,SAAS,CAAC6C,OAAO,CAAC,SAAC7C,SAAS,CAAEwD,KAAK,CAAK,CACpCd,QAAQ,CAACa,MAAM,CAAC,WAAW,CAAEvD,SAAS,CAAC,CAC3C,CAAC,CAAC,CAEF0C,QAAQ,CAACa,MAAM,CAAC,UAAU,CAAEpG,QAAQ,CAAC,CACrCuF,QAAQ,CAACa,MAAM,CAAC,OAAO,CAAEzG,IAAI,CAACG,IAAI,CAACwG,KAAK,CAAC,CAEzCf,QAAQ,CAACa,MAAM,CAAC,IAAI,CAAEtG,IAAI,CAACyG,EAAE,CAAC,CAC9BhB,QAAQ,CAACa,MAAM,CAAC,QAAQ,CAAEtG,IAAI,CAAC0G,MAAM,CAAC,CACtCjB,QAAQ,CAACa,MAAM,CAAC,aAAa,CAAEtG,IAAI,CAAC2G,MAAM,CAACC,KAAK,CAAC,CACjDnB,QAAQ,CAACa,MAAM,CAAC,YAAY,CAAEtG,IAAI,CAAC2G,MAAM,CAACE,IAAI,CAAC,CAC/CpB,QAAQ,CAACa,MAAM,CAAC,YAAY,CAAEtG,IAAI,CAAC2G,MAAM,CAACZ,IAAI,CAAC,CAC/CN,QAAQ,CAACa,MAAM,CAAC,YAAY,CAAEtG,IAAI,CAAC6G,IAAI,CAAC,CACxCpB,QAAQ,CAACa,MAAM,CAAC,YAAY,CAAEtG,IAAI,CAAC+F,IAAI,CAAC,CACxCN,QAAQ,CAACa,MAAM,CAAC,eAAe,CAAEtG,IAAI,CAAC8G,OAAO,CAAC,CAC9CrB,QAAQ,CAACa,MAAM,CAAC,QAAQ,CAAEtG,IAAI,CAAC+G,EAAE,CAACF,IAAI,CAAC,CACvCpB,QAAQ,CAACa,MAAM,CAAC,QAAQ,CAAEtG,IAAI,CAAC+G,EAAE,CAAChB,IAAI,CAAC,CAEvCiB,KAAK,IAAAC,MAAA,CAAIhH,OAAO,eAAc,CAC1BiH,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE1B,QACV,CAAC,CAAC,CAACjE,IAAI,CAAC,SAAC4F,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjC7F,IAAI,CAAC,SAAC6C,IAAI,CAAK,CACZ3C,OAAO,CAACC,GAAG,CAAC0C,IAAI,CAAC,CACjB1E,QAAQ,CAAC,IAAI,CAAC,CACdU,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,CAAC,CAENuB,cAAc,CAACa,SAAS,CAAG,IAAI,CAAC,yBAAAkD,SAAA,CAAAzB,IAAA,MAAAe,QAAA,GACnC,mBAAAqC,EAAA,SAAAtC,KAAA,CAAAuC,KAAA,MAAAC,SAAA,QAED,QAAS,CAAA3E,WAAWA,CAAA,CAAG,CACnB1C,QAAQ,CAAG6C,WAAW,CAAC,UAAM,CACzB9C,QAAQ,EAAE,CACV,GAAIA,QAAQ,CAAG,EAAE,CACb+B,WAAW,CAACW,SAAS,QAAAqE,MAAA,CAAU/G,QAAQ,CAAE,CAAC,IACzC,IAAIA,QAAQ,CAAG,EAAE,CAClB+B,WAAW,CAACW,SAAS,OAAAqE,MAAA,CAAS/G,QAAQ,CAAE,CAAC,IAEzC,CAAA+B,WAAW,CAACW,SAAS,KAAAqE,MAAA,CAAO/G,QAAQ,CAAG,EAAE,MAAA+G,MAAA,CAAI/G,QAAQ,CAAG,EAAE,CAAE,CAEpE,CAAC,CAAE,IAAI,CAAC,CACZ,CACJ,CAAC,CAAC,CAEDuH,KAAK,CAAC,SAAUC,GAAG,CAAE,CAClBhG,OAAO,CAACC,GAAG,CAAC+F,GAAG,CAACb,IAAI,CAAEa,GAAG,CAACC,OAAO,CAAC,CACtC,CAAC,CAAC,yBAAA3G,SAAA,CAAAkD,IAAA,MAAArD,QAAA,GAET,kBAnLK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAA8G,KAAA,MAAAC,SAAA,OAmLhB,CAED,mBACInI,KAAA,QAAKuI,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAC9BnI,KAAK,cAAGP,IAAA,CAACF,KAAK,EAAC6I,IAAI,CAAC,YAAY,CAAE,CAAC,CAAG,EAAE,cACzC3I,IAAA,OAAA0I,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzB1I,IAAA,QAAA0I,QAAA,cACI1I,IAAA,UAAO4I,QAAQ,MAACC,KAAK,MAACJ,SAAS,CAAC,mBAAmB,CAAQ,CAAC,CAC3D,CAAC,cACNzI,IAAA,WAAQyI,SAAS,CAAC,qBAAqB,CAACK,OAAO,CAAEzH,WAAY,CAAAqH,QAAA,CAAC,OAAK,CAAQ,CAAC,cAC5ExI,KAAA,QAAKuI,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnC1I,IAAA,SAAMyI,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,OAAK,CAAM,CAAC,cAC/D1I,IAAA,WAAQ+I,EAAE,CAAC,4BAA4B,CAAAL,QAAA,CAAC,OAAK,CAAQ,CAAC,cACtD1I,IAAA,WAAQ+I,EAAE,CAAC,6BAA6B,CAACxF,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAkF,QAAA,CAAC,QAAM,CAAQ,CAAC,cACpF1I,IAAA,WAAQ+I,EAAE,CAAC,2BAA2B,CAAAL,QAAA,CAAC,MAAI,CAAQ,CAAC,EACnD,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAvI,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}